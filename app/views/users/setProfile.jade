extends ../layouts/register

append headExt
  link(rel="stylesheet" href="/css/company_signup.css")
block contentExt
  .dl_container.clearfix
    .signup_row
      .block_left.text-right
        h1.text-right
          small 加入
          | 动梨
      form.form-horizontal.center-block.block_right(ng-controller="signupController" action="/users/dealSetProfile?key=#{key}&uid=#{uid}" method="post" name="signup_form" novalidate)
        .col-xs-offset-3.col-xs-9
          h2 激活成功！
          p 现在可以完成注册，加入动梨啦！
        .form-group.dl_sm_group(ng-class="{'has-error':signup_form.nickname.$invalid && signup_form.nickname.$dirty}")
          .dl_row
            .label_left
              label.control-label(for="nickname") ＊#{__("NICKNAME")}
            .input_right
              input#nickname.dl_form-Control(type="text" name="nickname" ng-model="nickname" ng-minlength=1 tooltip-placement="right" tooltip="{{signup_form.nickname.$invalid && signup_form.nickname.$dirty ? '请填写昵称':''}}" required)
        .form-group.dl_sm_group(ng-class="{'has-error':signup_form.password.$invalid && signup_form.password.$dirty}")
          .dl_row
            .label_left
              label.control-label(for="password") ＊密码
            .input_right
              input#password.dl_form-Control(type="password" name="password" ng-model="password" ng-minlength=1 tooltip-placement="right" tooltip="{{signup_form.password.$invalid && signup_form.password.$dirty ? '请输入密码':''}}" required)
        .form-group.dl_sm_group(ng-class="{'has-error':signup_form.passconf.$invalid && signup_form.passconf.$dirty}")
          .dl_row
            .label_left
              label.control-label(for="passconf") ＊密码确认
            .input_right
              input#passconf.dl_form-Control(type="password" name="passconf" ng-model="passconf" ng-minlength=1 tooltip-placement="right" tooltip="{{signup_form.passconf.$invalid && signup_form.passconf.$dirty ? '请输入确认密码':''}}" required)
        .form-group.dl_sm_group(ng-class="{'has-error':signup_form.realName.$invalid && signup_form.realName.$dirty}")
          .dl_row
            .label_left
              label.control-label(for="realName") ＊#{__("REALNAME")}
            .input_right
              input#realName.dl_form-Control(type="text" placeholder="仅公司成员可见" name="realName" ng-model="realName" ng-minlength=1 tooltip-placement="right" tooltip="{{signup_form.realName.$invalid && signup_form.realName.$dirty ? '请输入真实姓名':''}}" required)
        .form-group.dl_sm_group
          .dl_row
            .label_left
              label.control-label(for="department") #{__("DEPARTMENT")}
            .input_right
              //- input#department.form-control.dl_full_control(type="text" name="department" ng-model="department")
              .select_box.department_select_width
                select.dl_form-Control.chzn-select(data-placeholder="选择主部门" tabindex="2" ng-model="main_department" ng-options="d.name for d in main_departments" ng-change="selectMainDepartment()" ng-disabled="main_departments.length == 0")
                input(type="text" name="main_department_id" ng-model="main_department_id" ng-show="false")
                input(type="text" name="main_department_name" ng-model="main_department_name" ng-show="false")
              .select_box.department_select_width
                select.dl_form-Control.chzn-select(data-placeholder="选择子部门" tabindex="2" ng-model="child_department" ng-options="d.name for d in child_departments" ng-change="selectChildDepartment()" ng-disabled="child_departments.length == 0")
                input(type="text" name="child_department_id" ng-model="child_department_id" ng-show="false")
                input(type="text" name="child_department_name" ng-model="child_department_name" ng-show="false")
        .form-group.dl_sm_group
          .dl_row
            .label_left
              label.control-label(for="phone") #{__("PHONE")}
            .input_right
              input#phone.dl_form-Control(type="text" name="phone" ng-model="phone")
        .form-group.dl_sm_group
          .col-xs-offset-3.col-xs-9
            label.dl_checkbox
              input(type="checkbox" ng-model= "checkbox" required)
              | 我已阅读并同意<a href="#">服务条款</a>
        .form-group.dl_sm_group
          .col-xs-offset-3.col-xs-9
            button.btn.btn-primary.dl_btn.btn_submit(type="submit" ng-disabled="signup_form.$invalid") 下一步
block footExt
  script(src="/js/controllers/user.js")
