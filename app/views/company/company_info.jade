div.company-info
  form.form-horizontal(name="accountForm")
    .dl_row
      h5.pull-left {{"ACCOUNT"|translate}}
    hr.margin_top_6
    .dl_row.clearfix
      .info_side
        span.info_label {{"LOGIN_EMAIL"|translate}}
      .info_side
        span.info_label(ng-bind="company.login_email")
      if (Global.role === 'HR')
        .info_side
          a(href="#/changePassword") {{"CHANGE"|translate}}{{"PASSWORD"|translate}}
    .dl_row.clearfix
      .info_side
        span.info_label {{"REGISTER_DATE"|translate}}
      .info_side
        span.info_label {{company.register_date | date:'yyyy-MM-dd HH:mm:ss'}}
    if (Global.role === 'HR')
      .dl_row.clearfix
        .info_side
          span.info_label {{"INVATE_LINK"|translate}}
        .info_detail.col-md-9
          .row.col-md-9
            button.dl_btn.dl_btn_small.col-md-5(ng-click="inviteUrlToggle()" ng-bind="inviteUrlStatus ? '隐藏':'显示'")
          .row.col-md-12
            p
            textarea.info_label.dl_word_break.col-md-12.invite-link(ng-if="inviteUrlStatus",disabled) {{company.inviteUrl}}
            p
  form.form-horizontal(name="infoForm")
    .dl_row.clearfix
      h5.pull-left {{"ENTERPRISE_INFO"|translate}}
      if (Global.role === 'HR')
        button.dl_btn.dl_btn_small.pull-right(ng-click="infoEditToggle()" ng-bind="infoButtonStatus")
    hr.margin_top_6
    .dl_row.clearfix
      .info_side
        span.info_label {{"OFFICIAL_NAME"|translate}}
      .info_detail
        input.dl_input.editToggle.dl_form-Control(type="text" name ="username" ng-model="info.official_name" ng-disabled="infoUnEdit")
      if (Global.role === 'HR')
        .info_side
          a.clearLinkUnderline.dl_btn.dl_btn_small.pull-right(href="/company/editLogo") {{"CHANGE_LOGO"|translate}}
    .dl_row.clearfix
      .info_side
        span.info_label {{"ENTERPRISE_FULL_NAME"|translate}}
      .info_detail
        input.dl_input.editToggle.dl_form-Control(type="text" name ="infoname" ng-model="info.name" ng-disabled="infoUnEdit")
    .dl_row.clearfix#location(data-src="/region" data-select="province city district" data-init="{{linkage_init_location.province}} {{linkage_init_location.city}} {{linkage_init_location.district}}")
      .info_side
        span.info_label {{"LOCATION"|translate}}
      .info_side(ng-if="infoUnEdit")
        span.info_detail {{linkage_init_location.province}} {{linkage_init_location.city}} {{linkage_init_location.district}}
      .info_detail(ng-show="!infoUnEdit")
        select.dl_input.editToggle.dl_form-Control.no_radius.height_34(type="text" name ="province" ng-disabled="infoUnEdit")
      .info_detail(ng-show="!infoUnEdit")
        select#select_city.dl_input.editToggle.dl_form-Control.no_radius.height_34(type="text" name ="city" ng-disabled="infoUnEdit")
      .info_detail(ng-show="!infoUnEdit")
        select#select_district.dl_input.editToggle.dl_form-Control.no_radius.height_34(type="text" name ="district" ng-disabled="infoUnEdit")
    .dl_row.clearfix
      .info_side
        span.info_label {{"ADDRESS"|translate}}
      .info_side(ng-if="!infoUnEdit")
        span.info_detail {{ info.city.province }} {{ info.city.city }} {{ info.city.district }}
      .info_detail
        input.dl_input.editToggle.dl_form-Control(type="text" name ="address" ng-model="info.address" ng-disabled="infoUnEdit")
    .dl_row.clearfix(ng-if="info.linkman!=undefined || !infoUnEdit")
      .info_side
        span.info_label {{"LINK_MAN"|translate}}
      .info_detail
        input.dl_input.editToggle.dl_form-Control(type="text" name ="linkman" ng-model="info.linkman" ng-disabled="infoUnEdit")
    .dl_row.clearfix(ng-if="info.lindline!=undefined || !infoUnEdit")
      .info_side
        span.info_label {{"ENTERPRISE_PHONE"|translate}}
      .info_side(ng-if="infoUnEdit")
        span.info_detail {{info.lindline.areacode}} - {{info.lindline.number}} {{info.lindline.extension ? ':'+info.lindline.extension:''}}
      .info_detail(ng-show="!infoUnEdit")
        input.dl_input.editToggle.dl_form-Control(type="text" name ="areacode" ng-model="info.lindline.areacode" ng-disabled="infoUnEdit")
      .info_detail(ng-show="!infoUnEdit")
        input.dl_input.editToggle.dl_form-Control(type="text" name ="number" ng-model="info.lindline.number" ng-disabled="infoUnEdit")
      .info_detail(ng-show="!infoUnEdit")
        input.dl_input.editToggle.dl_form-Control(type="text" name ="extension" ng-model="info.lindline.extension" ng-disabled="infoUnEdit")
    .dl_row.clearfix(ng-if="info.phone!='' || !infoUnEdit")
      .info_side
        span.info_label {{"PHONE"|translate}}
      .info_detail
        input.dl_input.editToggle.dl_form-Control(type="number" name ="phone" ng-model="info.phone" ng-disabled="infoUnEdit")
    .dl_row.clearfix(ng-if="info.email!=undefined || !infoUnEdit")
      .info_side
        span.info_label {{"EMAIL"|translate}}
      .info_detail
        input.dl_input.editToggle.dl_form-Control(type="email" name ="email" ng-model="info.email" ng-disabled="infoUnEdit")
    .dl_row.clearfix(ng-if="info.brief!=undefined || !infoUnEdit")
      .info_side
        span.info_label {{"BRIEF"|translate}}
      .info_detail
        input.dl_input.editToggle.dl_form-Control(type="textarea" name ="brief" ng-model="info.brief" ng-disabled="infoUnEdit")
  //-小队信息
  form.form-horizontal(name="companyGroup")
    .dl_row.clearfix
      h5.pull-left {{"TEAM_INFO"|translate}}
      if (Global.role === 'HR')
        a.dl_btn.dl_btn_small.pull-right(href="#/addGroup") {{"ADD_TEAM"|translate}}
    hr.margin_top_6
    div(ng-repeat="team in team_lists")
      .dl_row.clearfix(ng-if="team.active")
        //-所有人可见active的team
        .aside
          a(href="/group/home/{{team._id}}")
            img.img-responsive.img-thumbnail.img_contain(ng-src="{{team.logo}}" width="128px")
        .dl_row
          span.info_label {{"TEAM_NAME"|translate}}
          span.info_label {{team.name}}
          if (Global.role === 'HR')
            button.dl_btn.dl_btn_small.pull-right(ng-click="setGroupId(team._id,team.gid,$index)" data-toggle="modal" data-target="#appointLeaderModel") {{"EDIT"|translate}}{{"TEAM"|translate}}
        .dl_row
          span.info_label {{"TYPE"|translate}}
          span.info_label {{team.group_type}}
        .dl_row
          span.info_label {{"TEAM_LEADER"|translate}}
          span(ng-repeat="l in team.leader")
            span.info_label {{l.nickname}}
        .dl_row
          span.info_label {{"SUM"|translate}}
          span.info_label {{team.member.length}}
      //-只有HR可见inactive的team 并可打开
      if (Global.role ==='HR' || Global.role ==='LEADER')
        .dl_row.clearfix(ng-if="!team.active")
          .aside
            a(href="/group/home/{{team._id}}")
              img.size_80.img-thumbnail.img_contain(ng-src="{{team.logo}}")
          .dl_row
            span.info_label {{"TEAM_NAME"|translate}}
            span.info_label {{team.name}}
            if (Global.role ==='HR')
              button.dl_btn.dl_btn_small.pull-right(ng-click="setGroupId(team._id,team.gid,$index)" data-toggle="modal" data-target="#appointLeaderModel") {{"EDIT"|translate}}{{"TEAM"|translate}}
          .dl_row
            span.info_label {{"TYPE"|translate}}
            span.info_label {{team.group_type}}
          .dl_row
            span.info_label {{"TEAM_LEADER"|translate}}
            .info_side(ng-repeat="l in team.leader")
              span.info_label {{l.nickname}}
          .dl_row
            span.info_label {{"SUM"|translate}}
            span.info_label {{team.member.length}}
      if (Global.role === 'HR')
        .dl_row.clearfix
          //-关组
          button.dl_btn.dl_btn_small.cancel_btn.pull-right(ng-if="!team.active" ng-click="activateGroup(true,team._id,$index)") {{"OPEN"|translate}}
          //-开组
          button.dl_btn.dl_btn_small.pull-right(ng-if="team.active" ng-click="activateGroup(false,team._id,$index)") {{"CLOSE"|translate}}
          button.dl_btn.dl_btn_small.pull-right(ng-if="team.provoke" ng-click="preProvoke(team)") {{"PROVOKE"|translate}}
      if (Global.role === 'LEADER' || Global.role === 'GUESTLEADER')
        .dl_row.clearfix(ng-if="team.active")
          button.dl_btn.dl_btn_small.pull-right(ng-if="team.provoke" ng-click="preProvoke(team)") {{"PROVOKE"|translate}}
      if (Global.role === 'EMPLOYEE')
        .dl_row.clearfix(ng-if="team.active")
          //-不属于显示加组按钮
          button.dl_btn.dl_btn_small.pull-right(ng-if='!team.belong' ng-click="joinGroup(team._id,$index)") {{"JOIN_GROUP"|translate}}
          //-属于则显示退组按钮
          button.dl_btn.dl_btn_small.cancel_btn.pull-right(ng-if='team.belong' ng-click="quitGroup(team._id,$index)") {{"QUIT_GROUP"|translate}}
      //-.dl_row.clearfix
        if (Global.role ==='HR')
          //-关组
          button.dl_btn.dl_btn_small.cancel_btn.pull-right(ng-if="!team.active" ng-click="activateGroup(true,team._id,$index)") {{"OPEN"|translate}}
          //-开组
          button.dl_btn.dl_btn_small.pull-right(ng-if="team.active" ng-click="activateGroup(false,team._id,$index)") {{"CLOSE"|translate}}
        if (Global.role === 'HR' || Global.role === 'LEADER' || Global.role === 'GUESTLEADER')
          button.dl_btn.dl_btn_small.pull-right(ng-if="team.provoke" ng-click="preProvoke(team)") {{"PROVOKE"|translate}}
        if (Global.role === 'EMPLOYEE')
          //-不属于显示加组按钮
          button.dl_btn.dl_btn_small.pull-right(ng-if='!team.belong' ng-click="joinGroup(team._id,$index)") {{"JOIN_GROUP"|translate}}
          //-属于则显示退组按钮
          button.dl_btn.dl_btn_small.cancel_btn.pull-right(ng-if='team.belong' ng-click="quitGroup(team._id,$index)") {{"QUIT_GROUP"|translate}}
      hr.margin_top_6(ng-if="team.active")
      if (Global.role ==='HR')
        hr.margin_top_6(ng-if="!team.active")

  if (Global.role ==='HR' || Global.role ==='LEADER' || Global.role === 'GUESTLEADER')
    div(class="modal fade" id="appointLeaderModel" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true")
      include ../partials/pointleader_modal
    div.modal.fade#sponsorProvokeModel(tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true")
      include ../partials/provoke_modal
