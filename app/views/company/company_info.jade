div.company-info
  form.form-horizontal(name="accountForm")
    .dl_row
      h5.pull-left #{__("ACCOUNT")}
    hr.margin_top_6
    .dl_row.clearfix
      .info_side
        span.info_label #{__("LOGIN_EMAIL")}
      .info_side
        span.info_label(ng-bind="company.login_email")
      if (Global.role === 'HR')
        .info_side
          a(href="#/changePassword") #{__("CHANGE")}#{__("PASSWORD")}
    .dl_row.clearfix
      .info_side
        span.info_label #{__("REGISTER_DATE")}
      .info_side
        span.info_label {{company.register_date | date:'yyyy-MM-dd HH:mm:ss'}}
    if (Global.role === 'HR')
      .dl_row.clearfix
        .info_side
          span.info_label #{__("INVATE_LINK")}
        .info_detail.col-md-9
          .row.col-md-9
            button.dl_btn.dl_btn_small.col-md-5(ng-click="inviteUrlToggle()" ng-bind="inviteUrlStatus ? '隐藏':'显示'")
          .row.col-md-12
            p
            textarea.info_label.dl_word_break.col-md-12.invite-link(ng-if="inviteUrlStatus",disabled) {{company.inviteUrl}}
            p
  form.form-horizontal.tab-info-form(name="infoForm")
    .dl_row.clearfix
      h5.pull-left #{__("ENTERPRISE_INFO")}
      if (Global.role === 'HR')
        button.dl_btn.dl_btn_small.pull-right(ng-click="infoEditToggle()" ng-bind="infoButtonStatus")
    hr.margin_top_6
    .dl_row.clearfix
      .info_side
        span.info_label #{__("OFFICIAL_NAME")}
      .info_detail
        input.dl_input.editToggle.dl_form-Control(type="text" name ="username" ng-model="info.official_name" ng-disabled="infoUnEdit")
      if (Global.role === 'HR')
        .info_side
          a.clearLinkUnderline.dl_btn.dl_btn_small.pull-right(href="/company/editLogo") #{__("CHANGE_LOGO")}
    .dl_row.clearfix
      .info_side
        span.info_label #{__("ENTERPRISE_FULL_NAME")}
      .info_detail
        input.dl_input.editToggle.dl_form-Control(type="text" name ="infoname" ng-model="info.name" ng-disabled="infoUnEdit")
    .dl_row.clearfix#location(data-src="/region" data-select="province city district" data-init="{{linkage_init_location.province}} {{linkage_init_location.city}} {{linkage_init_location.district}}")
      .info_side
        span.info_label #{__("LOCATION")}
      .info_side(ng-if="infoUnEdit")
        span.info_detail {{linkage_init_location.province}} {{linkage_init_location.city}} {{linkage_init_location.district}}
      .info_detail(ng-show="!infoUnEdit")
        select.dl_input.editToggle.dl_form-Control.no_radius.height_34(type="text" name ="province" ng-disabled="infoUnEdit")
      .info_detail(ng-show="!infoUnEdit")
        select#select_city.dl_input.editToggle.dl_form-Control.no_radius.height_34(type="text" name ="city" ng-disabled="infoUnEdit")
      .info_detail(ng-show="!infoUnEdit")
        select#select_district.dl_input.editToggle.dl_form-Control.no_radius.height_34(type="text" name ="district" ng-disabled="infoUnEdit")
    .dl_row.clearfix
      .info_side
        span.info_label #{__("ADDRESS")}
      .info_side(ng-if="!infoUnEdit")
        span.info_detail {{ info.city.province }} {{ info.city.city }} {{ info.city.district }}
      .info_detail
        input.dl_input.editToggle.dl_form-Control(type="text" name ="address" ng-model="info.address" ng-disabled="infoUnEdit")
    .dl_row.clearfix(ng-if="info.linkman!=undefined || !infoUnEdit")
      .info_side
        span.info_label #{__("LINK_MAN")}
      .info_detail
        input.dl_input.editToggle.dl_form-Control(type="text" name ="linkman" ng-model="info.linkman" ng-disabled="infoUnEdit")
    .dl_row.clearfix(ng-if="info.lindline!=undefined || !infoUnEdit")
      .info_side
        span.info_label #{__("ENTERPRISE_PHONE")}
      .info_detail(ng-if="infoUnEdit")
        span.info_text {{info.lindline.areacode}} - {{info.lindline.number}} {{info.lindline.extension ? ':'+info.lindline.extension:''}}
      .info_detail(ng-show="!infoUnEdit")
        input.dl_input.editToggle.dl_form-Control(type="text" name ="areacode" ng-model="info.lindline.areacode" ng-disabled="infoUnEdit")
      .info_detail(ng-show="!infoUnEdit")
        input.dl_input.editToggle.dl_form-Control(type="text" name ="number" ng-model="info.lindline.number" ng-disabled="infoUnEdit")
      .info_detail(ng-show="!infoUnEdit")
        input.dl_input.editToggle.dl_form-Control(type="text" name ="extension" ng-model="info.lindline.extension" ng-disabled="infoUnEdit")
    .dl_row.clearfix(ng-if="info.phone!='' || !infoUnEdit")
      .info_side
        span.info_label #{__("PHONE")}
      .info_detail
        input.dl_input.editToggle.dl_form-Control(type="text" name ="phone" ng-model="info.phone" ng-disabled="infoUnEdit")
    .dl_row.clearfix(ng-if="info.email!=undefined || !infoUnEdit")
      .info_side
        span.info_label #{__("EMAIL")}
      .info_detail
        input.dl_input.editToggle.dl_form-Control(type="email" name ="email" ng-model="info.email" ng-disabled="infoUnEdit")
    .dl_row.clearfix(ng-if="info.brief!=undefined || !infoUnEdit")
      .info_side
        span.info_label #{__("BRIEF")}
      .info_detail
        input.dl_input.editToggle.dl_form-Control(type="textarea" name ="brief" ng-model="info.brief" ng-disabled="infoUnEdit")
  //-小队信息
  table.group_table
    tr
      th
        h5.pull-left #{__("TEAM_INFO")}
        if (Global.role === 'HR')
          a.dl_btn.dl_btn_small.pull-right(href="#/addGroup") #{__("ADD_TEAM")}
    tr
      th 小队
      th 人数
      th 队长
      th 一周内活动数
      th 一周内活动人次
      th 一月内活动数
      th 一月内活动人次
      th 操作
    tr(bs-popover ng-repeat="team in team_lists")
      td
        a(href="/group/home/{{team._id}}")
          img.img-responsive.img-thumbnail.img_contain.size_56(ng-src="{{team.logo}}" ng-Mouseover='showGroupCard(team._id,team._id)' id='pop{{team._id}}')
        span.info_label #{__("TEAM_NAME")}
        span.info_label {{team.name}}
      td
          span.info_label {{team.member.length}}
      td
          span.row(ng-if="team.leader.length>0" ng-repeat="l in team.leader")
            span.info_label {{l.nickname}}
          span.row(ng-if="team.leader.length==0") 无
      td
        span {{team.count.last_week_campaign}}
      td
        span {{team.count.last_week_member}}
      td
        span {{team.count.last_month_campaign}}
      td
        span {{team.count.last_month_member}}
      td
        if (Global.role === 'HR')
          .dl_row.clearfix
            button.dl_btn.dl_btn_small.pull-right(ng-click="setGroupId(team._id,team.gid,$index)" data-toggle="modal" data-target="#appointLeaderModel") #{__("EDIT")}#{__("TEAM")}
            //-关组
            button.dl_btn.dl_btn_small.cancel_btn.pull-right(ng-if="!team.active" ng-click="activateGroup(true,team._id,$index)") #{__("OPEN")}
            //-开组
            button.dl_btn.dl_btn_small.pull-right(ng-if="team.active" ng-click="activateGroup(false,team._id,$index)") #{__("CLOSE")}
            //-    button.dl_btn.dl_btn_small.pull-right(ng-if="team.provoke" ng-click="preProvoke(team)") #{__("PROVOKE")}

              //- if (Global.role === 'LEADER' || Global.role === 'GUESTLEADER')
              //-   button.dl_btn.dl_btn_small.pull-right(ng-if="team.provoke" ng-click="preProvoke(team)") {{"PROVOKE"|translate}}
        if (Global.role === 'EMPLOYEE')
          .dl_row.clearfix
            //-不属于显示加组按钮
            button.dl_btn.dl_btn_small.pull-right(ng-if='!team.belong' ng-click="joinGroup(team._id,$index)") #{__("JOIN_GROUP")}
            //-属于则显示退组按钮
            button.dl_btn.dl_btn_small.cancel_btn.pull-right(ng-if='team.belong' ng-click="quitGroup(team._id,$index)") #{__("QUIT_GROUP")}


  if (Global.role ==='HR' || Global.role ==='LEADER' || Global.role === 'GUESTLEADER')
    div(class="modal fade" id="appointLeaderModel" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true")
      include ../partials/pointleader_modal
