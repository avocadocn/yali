<div class="image_box"><div ng-if="isPreview===false" ng-switch="preImages.length" class="photos"><div ng-switch-when="1" class="photos_{{preImages.length}}"><img onError="this.src='/img/not_found.jpg';" ng-click="preview(photo.uri)" ng-repeat="photo in preImages" data-src="{{photo.uri}}/570/300" class="cursor_big lazyload photo photo_{{$index}}"/></div><div ng-switch-when="2" class="photos_{{preImages.length}}"><img ng-repeat="photo in preImages" ng-src="{{photo.uri}}/282/200" onError="this.src='/img/not_found.jpg';" ng-click="preview(photo.uri)" class="cursor_big lazyload photo photo_{{$index}}"/></div><div ng-switch-when="3" class="photos_{{preImages.length}}"><img ng-repeat="photo in preImages" ng-src="{{($index==0?photo.uri+'/282/305':photo.uri+'/282/150')}}" onError="this.src='/img/not_found.jpg';" ng-click="preview(photo.uri)" class="cursor_big lazyload photo photo_{{$index}}"/></div><div ng-switch-when="4" class="photos_{{preImages.length}}"><img ng-repeat="photo in preImages" ng-src="{{($index==0 || $index==3)?photo.uri+'/235/170':photo.uri+'/330/170'}}" onError="this.src='/img/not_found.jpg';" ng-click="preview(photo.uri)" class="cursor_big lazyload photo photo_{{$index}}"/></div></div><div ng-show="isPreview===true" need-scroll="need-scroll" class="preview"><div class="operator_nav"><button data-dismiss="modal" aria-hidden="true" ng-click="close()" class="close dl_close"><img src="/img/icons/icon_close.png" class="icon_close"/></button></div><div class="image_container"><img ng-src="{{previewImg}}" onError="this.src='/img/not_found.jpg';" class="preview_img"/><div class="operator_wrap"><div ng-if="prevIndex!=thisIndex" ng-click="prev()" class="img_pre cursor_prev"></div><div ng-click="close()" class="img_small cursor_small"></div><div ng-if="nextIndex!=thisIndex" ng-click="next()" class="img_next cursor_next"></div></div></div><div ng-if="images.length &gt; 1" class="image_nav"><button ng-click="prevList()" ng-disabled="!canPrev" class="prev"><</button><div cal-width="cal-width" class="thumb_box"><div ng-style="thumbBoxInnerStyle" class="thumb_box_inner"><a href="javascript:;" ng-class="{'active':thisIndex===$index}" ng-repeat="image in images" ng-click="choose($index)" class="border"><img data-src="{{image.uri}}/resize/56/56/stretch" class="nav_thumb lazyload"/></a></div></div><button ng-click="nextList()" ng-disabled="!canNext" class="next">></button></div></div></div>