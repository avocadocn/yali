.team_edit
  section.content-header
    h1
      | 编辑小队信息
    ol.breadcrumb
      li: a(ui-sref="teamList") 小队管理
      li.active 小队详情
  section.content
    .row
      .col-sm-6
        .box.box-primary
          .box-header.with-border
            h3.box-title 小队信息
          .box-body
            form.team_info_form(name="editInfoForm")
              .form-group
                label 小队名
                input.form-control(type="text" name="name" ng-model="formData.name" ng-maxlength=20 required)
                p.text-danger(ng-if="editInfoForm.name.$error.required" ng-cloak) 请输入小队名称
                p.text-danger(ng-if="editInfoForm.name.$error.maxlength" ng-cloak) 请输入长度不超过20个字符
              .form-group.home_court(ng-repeat="homeCourt in homeCourts")
                label 主场
                label.form-control(ng-click="showMapModal()" ng-cloak) {{homeCourt.name}}
      .col-sm-6(ng-if="team")
        .box.box-primary
          .box-header.with-border
            h3.box-title 修改logo
          .box-body
            .edit_logo_container
              .cropper#image_cropper
                .cropit-image-preview-container(ng-style="{'background-image': 'url(' + team.logo + '/256/256)'}")
                  .cropit-image-preview
                .operator_slider(ng-show="isUploading")
                  span.glyphicon.glyphicon-picture.icon_small
                  input.cropit-image-zoom-input(type="range")
                  span.glyphicon.glyphicon-picture.icon_large
                .operator_button.text-center
                  .btn-group
                    button.btn.btn-default(ng-click="selectLogo()") 选择图片
                    button.btn.btn-primary(type="button" ng-click="editLogo()" ng-if="isUploading") 确定
                input.cropit-image-input#cropit_image_input(type="file")
  script(type="text/ng-template" id="homeCourtModal.html")
    .modal-header
      h3.modal-title  主场
    .modal-body
      form(name="homeCourtForm")
        .home_court
          .control
            label.title 主场一：
            input.address(type="text" name ="home_court_1" ng-change='changeLocation(0)' ng-maxlength=40 tooltip="{{homeCourtForm.home_court_1.$invalid? '主场最长字数40字':'请认真填写主场地址，动梨将根此给您推荐可挑战的周边小队。'}}" ng-model="homeCourts[0].name" tooltip-placement="right")
          .map_container(ng-show='showMaps[0]')
            .map#courtMap1
        .home_court
          .control
            label.title 主场二：
            input.address(type="text" name ="home_court_2" ng-change='changeLocation(1)' ng-maxlength=40 tooltip="{{homeCourtForm.home_court_2.$invalid? '主场最长字数40字':'请认真填写主场地址，动梨将根此给您推荐可挑战的周边小队。'}}" ng-model="homeCourts[1].name" tooltip-placement="right")
          .map_container(ng-show='showMaps[1]')
            .map#courtMap2
    .modal-footer
      button.finish.btn.btn-primary(type="button" ng-click="saveHomeCourt()") 完成
      button.btn.btn-default(ng-click="close()") 关闭