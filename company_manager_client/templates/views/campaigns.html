<div class="campaigns_page"><section class="content-header"><h1> 
活动管理<a ui-sref="manager.createCampaign" class="btn btn-primary pull-right">发活动</a></h1></section><section class="content"><div class="row"><div class="col-xs-12"><div class="box box_success box-solid"><div class="box-header with-border"><h3 class="box-title">选择小队</h3></div><div class="box-body clearfix team_filter_box"><div class="group_filters"><div ng-repeat="group in groups" ng-class="" ng-click="selectGroup(group)" class="group_filter">{{group.groupType}}</div></div><div class="team_list"><div ng-repeat="team in nowGroup.teams" ng-class="{'selected':currentTeamId===team._id}" ng-click="selectTeam(team._id)" class="team_card"><div class="dl_info_box"><div class="info_box_icon"><img ng-src="{{team.logo}}/90/90"/></div><div class="info_box_content"><div ng-cloak="ng-cloak" class="info_box_text">{{team.name}}</div></div></div></div></div></div></div></div></div><div class="row"><div class="col-xs-12"><div class="box box-primary"><div class="box-header"><h3 class="box-title">活动</h3><div class="date_range_select"><div class="date_range_start"><div id="startTime" class="input-group date"><span class="input-group-addon date_range_label">开始</span><input type="text" ng-model="start_time" name="startTime" placeholder="开始时间" data-date-format="YYYY-MM-DD" readonly="readonly" required="required" class="date_form_control"/><span class="input-group-addon date_range_label"><span class="glyphicon glyphicon-calendar"></span></span></div></div><div class="date_range_end"><div id="endTime" class="input-group date"><span class="input-group-addon date_range_label">结束</span><input type="text" ng-model="end_time" name="endTime" placeholder="结束时间" data-date-format="YYYY-MM-DD" readonly="readonly" required="required" class="date_form_control"/><span class="input-group-addon date_range_label"><span class="glyphicon glyphicon-calendar"></span></span></div></div><div class="search_time_button"><button ng-click="searchCampaignByTime()" class="btn btn-sm bg-olive">查询</button><button ng-click="quitSearchCampaignByTime()" class="btn btn-sm bg-maroon">清除</button></div></div><div class="num_of_page"><select ng-model="number" ng-options="number.num for number in numbers" ng-change="selectNumOfPage()" class="form-control input-sm"></select></div></div><div class="box-body"><div class="table-content"><table class="table table-striped dl_table dataTable"><thead><tr><th class="center">Logo</th><th class="center">主题</th><th ng-class="{sorting: true, sorting_asc: sortJson[0].asc, sorting_desc: sortJson[0].desc}" ng-click="onColumnHeaderClick(0)" class="center">开始时间</th><th ng-class="{sorting: true, sorting_asc: sortJson[1].asc, sorting_desc: sortJson[1].desc}" ng-click="onColumnHeaderClick(1)" class="center">结束时间</th><th ng-class="{sorting: true, sorting_asc: sortJson[2].asc, sorting_desc: sortJson[2].desc}" ng-click="onColumnHeaderClick(2)" class="center">人数</th><th class="center">状态<div class="btn-group"><div data-toggle="dropdown" class="btn btn-mini dropdown-toggle"><span class="caret"></span></div><ul class="dropdown-menu"><li> <a ng-click="onCampaignStatusChange(0)">全部</a></li><li> <a ng-click="onCampaignStatusChange(1)">未开始</a></li><li> <a ng-click="onCampaignStatusChange(2)">进行中</a></li><li> <a ng-click="onCampaignStatusChange(3)">已结束</a></li><li> <a ng-click="onCampaignStatusChange(4)">已关闭</a></li></ul></div></th><th class="center">详情</th><th class="center">操作</th></tr></thead><tbody><tr bindonce="campaigns" ng-repeat="campaign in campaigns"><td class="center"><img bo-src="campaign.logo + '/40/40'"/></td><td bo-bind="campaign.theme" class="center theme"></td><td class="center"> <p bo-bind="campaign.startTime | date:'yyyy-MM-dd'"></p><p bo-bind="campaign.startTime | date:'HH:mm'"></p></td><td class="center"><p bo-bind="campaign.endTime | date:'yyyy-MM-dd'"></p><p bo-bind="campaign.endTime | date:'HH:mm'"></p></td><td bo-bind="campaign.memberNumber" class="center"></td><td bo-bind="campaign.active ? campaign.status : '已关闭'" class="center"></td><td class="center"><a href="" edit-campaign="edit-campaign" campaign-id="campaign._id">详情</a></td><td class="center"><a href="" edit-campaign="edit-campaign" campaign-id="campaign._id" action="'edit'" ng-if="campaign.active &amp;&amp;(campaign.status==='未开始'||campaign.status==='进行中')">编辑</a><button ng-if="campaign.active &amp;&amp; (campaign.status==='未开始'||campaign.status==='进行中')" ng-click="closeCampaign(campaign)" class="dl_btn close_btn">关闭</button></td></tr></tbody></table><div class="row"><div class="col-xs-12"><div class="data-table-paginate"><ul class="pagination"><li ng-class="{disabled:nowPage&lt;=0}" ng-click="getPage('pre')" ng-cloak="ng-cloak"><a href="" class="page">上一页</a></li><li ng-repeat="page in pages" ng-click="getPage(null,$index)" ng-class="{active:$index===nowPage}" ng-cloak="ng-cloak"><a href="" class="page">{{$index+1}}</a></li><li ng-if="hasNext" ng-class="{disabled:!hasNext}" ng-click="getPage('next')" ng-cloak="ng-cloak"><a href="" class="page">下一页</a></li></ul></div></div></div></div></div></div></div></div></section></div>